# 2일차 - 서버 복제 / 리눅스 명령어

1. VMWare에 리눅스를 설치.
    - 설치가 안되는 경우가 많긴함
    - But 구글링 하면 해결책이 나옴

- 리눅스 명령어 및 관리자 명령어

    어떤책을 참조하면 되는지 아는 수준

- 리눅스 웹 서버 및 DB 설치
- AWS

    팀당 하나의 서버 생성 및 공유

### 팀

랜덤하게 팀을 만들계획. → 2번쨰 + 3번째

### 유용한자료

볼만한 정보

### 어제 리뷰

[1일차 - 리눅스 사용 목적 및 설치](1%E1%84%8B%E1%85%B5%E1%86%AF%E1%84%8E%E1%85%A1%20-%20%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%20%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AD%E1%86%BC%20%E1%84%86%E1%85%A9%E1%86%A8%E1%84%8C%E1%85%A5%E1%86%A8%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%201b1a9929fd95454987f91c10ff2876b9.md)

- 리뷰내용

    USB설치: 4gb까지만 됨 → 요상한 세팅들 해줘야함.

    설치 및 파티션 : 문제가 생길 시 하나의 파티션은 남길 수 있도록

    관리자 + 일반사용자:
    관리자 계정에서만 무언가 할 수 있음 
    root / 111111 하여 로그인 하도록 해야함

    네이버 클라우드
    업로드 + 친구들에게 공유 → 리눅스 시스템

    업데이트 설정:

    - 업데이트 하면 기존의 프로그램이 돌아가지 않을 수 있음

    IP 고정

    - NETMASK
    - GATEWAY
    - DNS
    - 각 뜻은 교재와 함께
    - 아이피 수정 후, 네트워크 리스타트

    보안 설정 해제

    - 문제가 되지 않을까?
    - 현업에선 내부 망엔 문제가 없고, 대외용 컴퓨터에는 철저한 보안설정 → 네트워크로 해킹은 사실상 어려움

    기타 환경 

    - 한글, 우리는 필요함

---

## 오늘 내용

### 서버 복사하기

- 원본 서버 ip 설정

    gedit 기반으로 바꾸었음

    1. 원본 Server 아이피 변경 (xxx.xxx.xxx.100으로 변경. 이유는 모르겠음)

        ![2%E1%84%8B%E1%85%B5%E1%86%AF%E1%84%8E%E1%85%A1%20-%20%E1%84%89%E1%85%A5%E1%84%87%E1%85%A5%20%E1%84%87%E1%85%A9%E1%86%A8%E1%84%8C%E1%85%A6%20%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%20%E1%84%86%E1%85%A7%E1%86%BC%E1%84%85%E1%85%A7%E1%86%BC%E1%84%8B%E1%85%A5%20ae703eae054c443c8d28e2c8fd19da8a/Untitled.png](2%E1%84%8B%E1%85%B5%E1%86%AF%E1%84%8E%E1%85%A1%20-%20%E1%84%89%E1%85%A5%E1%84%87%E1%85%A5%20%E1%84%87%E1%85%A9%E1%86%A8%E1%84%8C%E1%85%A6%20%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%20%E1%84%86%E1%85%A7%E1%86%BC%E1%84%85%E1%85%A7%E1%86%BC%E1%84%8B%E1%85%A5%20ae703eae054c443c8d28e2c8fd19da8a/Untitled.png)

    원본은 건드리지 않는다. 항상 남겨놓고 복제할 것이다.

    ```bash
    [root@server ~]# cd /etc/sysconfig/network-scripts/
    [root@server network-scripts]# vi ifcfg-ens33
    [root@server network-scripts]# systemctl restart network
    [root@server network-scripts]# ifconfig
    ```

- 서버 복사하기.

복제하기

1. 파일 복사하기. 서버를 설치한 server위치를 그대로 복사한다 `C:\Linux\server1`
2. VMX 파일 Wordpad로 설정하기
그대로 복사했기 때문에 VMWare Player 안에서 보이는 이름이 같은 상태다. 따라서 이름을 바꿔 주어야 한다.
VMX파일의 연결 프로그램을 워드패드로 설정한다.

    ![2%E1%84%8B%E1%85%B5%E1%86%AF%E1%84%8E%E1%85%A1%20-%20%E1%84%89%E1%85%A5%E1%84%87%E1%85%A5%20%E1%84%87%E1%85%A9%E1%86%A8%E1%84%8C%E1%85%A6%20%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%20%E1%84%86%E1%85%A7%E1%86%BC%E1%84%85%E1%85%A7%E1%86%BC%E1%84%8B%E1%85%A5%20ae703eae054c443c8d28e2c8fd19da8a/Untitled%201.png](2%E1%84%8B%E1%85%B5%E1%86%AF%E1%84%8E%E1%85%A1%20-%20%E1%84%89%E1%85%A5%E1%84%87%E1%85%A5%20%E1%84%87%E1%85%A9%E1%86%A8%E1%84%8C%E1%85%A6%20%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%20%E1%84%86%E1%85%A7%E1%86%BC%E1%84%85%E1%85%A7%E1%86%BC%E1%84%8B%E1%85%A5%20ae703eae054c443c8d28e2c8fd19da8a/Untitled%201.png)

3. displayname을 변경한다. VMWare 안에서 보이는 이름임

    ![2%E1%84%8B%E1%85%B5%E1%86%AF%E1%84%8E%E1%85%A1%20-%20%E1%84%89%E1%85%A5%E1%84%87%E1%85%A5%20%E1%84%87%E1%85%A9%E1%86%A8%E1%84%8C%E1%85%A6%20%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%20%E1%84%86%E1%85%A7%E1%86%BC%E1%84%85%E1%85%A7%E1%86%BC%E1%84%8B%E1%85%A5%20ae703eae054c443c8d28e2c8fd19da8a/Untitled%202.png](2%E1%84%8B%E1%85%B5%E1%86%AF%E1%84%8E%E1%85%A1%20-%20%E1%84%89%E1%85%A5%E1%84%87%E1%85%A5%20%E1%84%87%E1%85%A9%E1%86%A8%E1%84%8C%E1%85%A6%20%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%20%E1%84%86%E1%85%A7%E1%86%BC%E1%84%85%E1%85%A7%E1%86%BC%E1%84%8B%E1%85%A5%20ae703eae054c443c8d28e2c8fd19da8a/Untitled%202.png)

4. 실행한다
    1. VMWare 실행 → 폴더로 이동 → vmx파일

5. 설정을 바꾼다
    1. 맥 어드레스(복제를 했기때문에 같은 맥 어드레스를 가지고 있는 상태임)
    2. 네트워크 → advanced → mac address generate
    3. 반드시 'Move it'으로 해야함

        ![2%E1%84%8B%E1%85%B5%E1%86%AF%E1%84%8E%E1%85%A1%20-%20%E1%84%89%E1%85%A5%E1%84%87%E1%85%A5%20%E1%84%87%E1%85%A9%E1%86%A8%E1%84%8C%E1%85%A6%20%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%20%E1%84%86%E1%85%A7%E1%86%BC%E1%84%85%E1%85%A7%E1%86%BC%E1%84%8B%E1%85%A5%20ae703eae054c443c8d28e2c8fd19da8a/Untitled%203.png](2%E1%84%8B%E1%85%B5%E1%86%AF%E1%84%8E%E1%85%A1%20-%20%E1%84%89%E1%85%A5%E1%84%87%E1%85%A5%20%E1%84%87%E1%85%A9%E1%86%A8%E1%84%8C%E1%85%A6%20%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%20%E1%84%86%E1%85%A7%E1%86%BC%E1%84%85%E1%85%A7%E1%86%BC%E1%84%8B%E1%85%A5%20ae703eae054c443c8d28e2c8fd19da8a/Untitled%203.png)

6. 내부에서 다시 ip를 바꾼다
    1. 네트워크를 리부트 한다
    2. ip가 변경되었는지 확인한다.

VMWare를 server로 실행한다.

터미널에 `ping 192.168.111.101`을 입력하여  PC간 통신한다.

### 서버설치 실습

server2만들기

192.168.111.102

### 리눅스 실습

x윈도우? UI

리눅스는 서버다. → 누군가가 서비스를 받고 있음. 함부로 끌 수 없음. `poweroff`로 꺼야함.

종료

```jsx
shutdown -P +10 -> 10분후 종료
shutdown -r +22:00 -> 오후 10:00에 재부팅
shutdown -c
shutdown -k +15

```

`su -centos` 사용자변경 # 표시와 $ 표시 차이 확인

`pwd` 현재 워킹 디렉토리

`whoami` 나는 누구

`rm` 삭제 → 안됨

`logout` centos에서 로그아웃

![2%E1%84%8B%E1%85%B5%E1%86%AF%E1%84%8E%E1%85%A1%20-%20%E1%84%89%E1%85%A5%E1%84%87%E1%85%A5%20%E1%84%87%E1%85%A9%E1%86%A8%E1%84%8C%E1%85%A6%20%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%20%E1%84%86%E1%85%A7%E1%86%BC%E1%84%85%E1%85%A7%E1%86%BC%E1%84%8B%E1%85%A5%20ae703eae054c443c8d28e2c8fd19da8a/Untitled%204.png](2%E1%84%8B%E1%85%B5%E1%86%AF%E1%84%8E%E1%85%A1%20-%20%E1%84%89%E1%85%A5%E1%84%87%E1%85%A5%20%E1%84%87%E1%85%A9%E1%86%A8%E1%84%8C%E1%85%A6%20%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%20%E1%84%86%E1%85%A7%E1%86%BC%E1%84%85%E1%85%A7%E1%86%BC%E1%84%8B%E1%85%A5%20ae703eae054c443c8d28e2c8fd19da8a/Untitled%204.png)

### 유저로 로그인된 경우

관리자의 파일을 삭제할 수 없음. 윈도우는 Single유저용이라 이런 기능이 잘 안됨.

예시

아마존에 리눅스가 있음. 루트권한은 A가 가지고 있다. 만약 내가 외부에서 접근한다면? `root`로 로그인 불가

`su - user` 디렉토리까지 변경

`su user` 디렉토리는 그대로.

따라서 centos로 로그인 한 후, 원하는 유저로 switch user 해야함

`ctrl + alt + F3` 터미널만 뜬다.

`ctrl + alt + F1` 터미널 탈출.

책에 어디에 무엇이 있는지 정리를 잘하는 것이 좋음.

공부 후에 잊게 됨.

p.157

`history` 사용 했던 목록

`history -c` 사용 목록 삭제

`cat` 파일을 열어 볼 수 있다.

`gedit`

`cd /` 루트보다 더 위의 폴더에서

4기가 swap과 나머지 root를 설치했던 과거

가상 컴퓨터로 파일 복사하기

Q. 어떻게 가상 컴퓨터에 파일을 넣을 것인가. 현재로선 안된다.

`mkdir vitest` 폴더만들기

`touch a.txt` 윈도우의 새로만들기와 같음. a.txt라는 파일을 만든다.

`ls -l a.txt` 상세보기

`cat  a.txt` 파일 열어보기

p.161 이해해야함

`vi a.txt` 명령 모드 상태

![2%E1%84%8B%E1%85%B5%E1%86%AF%E1%84%8E%E1%85%A1%20-%20%E1%84%89%E1%85%A5%E1%84%87%E1%85%A5%20%E1%84%87%E1%85%A9%E1%86%A8%E1%84%8C%E1%85%A6%20%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%20%E1%84%86%E1%85%A7%E1%86%BC%E1%84%85%E1%85%A7%E1%86%BC%E1%84%8B%E1%85%A5%20ae703eae054c443c8d28e2c8fd19da8a/Untitled%205.png](2%E1%84%8B%E1%85%B5%E1%86%AF%E1%84%8E%E1%85%A1%20-%20%E1%84%89%E1%85%A5%E1%84%87%E1%85%A5%20%E1%84%87%E1%85%A9%E1%86%A8%E1%84%8C%E1%85%A6%20%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%20%E1%84%86%E1%85%A7%E1%86%BC%E1%84%85%E1%85%A7%E1%86%BC%E1%84%8B%E1%85%A5%20ae703eae054c443c8d28e2c8fd19da8a/Untitled%205.png)

:한 후에 할것을 입력

입력모드

`i` 입력

![2%E1%84%8B%E1%85%B5%E1%86%AF%E1%84%8E%E1%85%A1%20-%20%E1%84%89%E1%85%A5%E1%84%87%E1%85%A5%20%E1%84%87%E1%85%A9%E1%86%A8%E1%84%8C%E1%85%A6%20%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%20%E1%84%86%E1%85%A7%E1%86%BC%E1%84%85%E1%85%A7%E1%86%BC%E1%84%8B%E1%85%A5%20ae703eae054c443c8d28e2c8fd19da8a/Untitled%206.png](2%E1%84%8B%E1%85%B5%E1%86%AF%E1%84%8E%E1%85%A1%20-%20%E1%84%89%E1%85%A5%E1%84%87%E1%85%A5%20%E1%84%87%E1%85%A9%E1%86%A8%E1%84%8C%E1%85%A6%20%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%20%E1%84%86%E1%85%A7%E1%86%BC%E1%84%85%E1%85%A7%E1%86%BC%E1%84%8B%E1%85%A5%20ae703eae054c443c8d28e2c8fd19da8a/Untitled%206.png)

다시 명령모드로 가고 싶을 땐 `esc` 누름

`hjkl`로 줄 이동

터미널 → 명령모드 → 입력모드 또는 ex 모드

`:wq` 저장 및 나감

`:q!` 저장 안하고 나감. 

`vi test.txt` 마찬가지로 새 파일 만들기

`vi a t.txt` 새 파일 만들기

백업본을 만들면 좋음

`:w test2.txt` 기존 파일에 가져다대고 ex모드에서 입력

p.165

### vi 에서

`shft + a` 또는 `shft + i` 맨 뒤에서 또는 맨 앞에서 수정

`o` 아랫줄에 하나 추가되고 쓰기

`shft + o` 윗줄에 하나 추가하고 쓰기

`s` 한 단어만 바꿈

`shft + s` 한줄 바꿈

`cw` 커서가 올려진 지점부터 다음 띄어쓰기까지 내용 수정

`cd ..` 바로 위의 디렉토리로 이동

`cp anaconda-ks.cfg vitest` 아나콘다파일을 vitest로 복사한다.

p.167

`:set nu` 라인넘버 보여줌

`gg` 제일 첫 행으로 이동

`G` 제일 마지막 행

`57 G` 또는 `:47`  가고자 하는 줄로 바로 이동

`dd` 한줄 삭제

`숫자 + dd` 삭제할 줄 갯수

`x` 뒤로 알파벳 하나 삭제

`X` 앞으로 삭제

`yy` 한줄 복사

`num+yy` num만큼 줄 복사

`p` 붙여넣기

`/문자열`  찾기 이후 `n`으로 여러 같은 값중 다음으로 이동

`:%s/기존문자열/새문자열` 기존 문자열을 새 문자열로 바꿈

지금까지 한 내용으로 어느정도 커버가 가능할 것임.

앞으로의 문서편집은 VI를 이용할 예정

## 터미널에서

`man vi` vi 메뉴얼

p.168 마운트 개념

`cd /dev`로 이동

`ls -l`이라고 입력

![2%E1%84%8B%E1%85%B5%E1%86%AF%E1%84%8E%E1%85%A1%20-%20%E1%84%89%E1%85%A5%E1%84%87%E1%85%A5%20%E1%84%87%E1%85%A9%E1%86%A8%E1%84%8C%E1%85%A6%20%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%20%E1%84%86%E1%85%A7%E1%86%BC%E1%84%85%E1%85%A7%E1%86%BC%E1%84%8B%E1%85%A5%20ae703eae054c443c8d28e2c8fd19da8a/Untitled%207.png](2%E1%84%8B%E1%85%B5%E1%86%AF%E1%84%8E%E1%85%A1%20-%20%E1%84%89%E1%85%A5%E1%84%87%E1%85%A5%20%E1%84%87%E1%85%A9%E1%86%A8%E1%84%8C%E1%85%A6%20%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%20%E1%84%86%E1%85%A7%E1%86%BC%E1%84%85%E1%85%A7%E1%86%BC%E1%84%8B%E1%85%A5%20ae703eae054c443c8d28e2c8fd19da8a/Untitled%207.png)

p.172

시디롬 떼었다가 붙이기

![2%E1%84%8B%E1%85%B5%E1%86%AF%E1%84%8E%E1%85%A1%20-%20%E1%84%89%E1%85%A5%E1%84%87%E1%85%A5%20%E1%84%87%E1%85%A9%E1%86%A8%E1%84%8C%E1%85%A6%20%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%20%E1%84%86%E1%85%A7%E1%86%BC%E1%84%85%E1%85%A7%E1%86%BC%E1%84%8B%E1%85%A5%20ae703eae054c443c8d28e2c8fd19da8a/Untitled%208.png](2%E1%84%8B%E1%85%B5%E1%86%AF%E1%84%8E%E1%85%A1%20-%20%E1%84%89%E1%85%A5%E1%84%87%E1%85%A5%20%E1%84%87%E1%85%A9%E1%86%A8%E1%84%8C%E1%85%A6%20%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%20%E1%84%86%E1%85%A7%E1%86%BC%E1%84%85%E1%85%A7%E1%86%BC%E1%84%8B%E1%85%A5%20ae703eae054c443c8d28e2c8fd19da8a/Untitled%208.png)

리눅스는 플러그앤 플레이가 안됨

원래는 안되지만 지금은 VMWare가 인식해준 상태임

루트 파일에 cdrom 형성

마운트 시키기

![2%E1%84%8B%E1%85%B5%E1%86%AF%E1%84%8E%E1%85%A1%20-%20%E1%84%89%E1%85%A5%E1%84%87%E1%85%A5%20%E1%84%87%E1%85%A9%E1%86%A8%E1%84%8C%E1%85%A6%20%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%20%E1%84%86%E1%85%A7%E1%86%BC%E1%84%85%E1%85%A7%E1%86%BC%E1%84%8B%E1%85%A5%20ae703eae054c443c8d28e2c8fd19da8a/Untitled%209.png](2%E1%84%8B%E1%85%B5%E1%86%AF%E1%84%8E%E1%85%A1%20-%20%E1%84%89%E1%85%A5%E1%84%87%E1%85%A5%20%E1%84%87%E1%85%A9%E1%86%A8%E1%84%8C%E1%85%A6%20%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%20%E1%84%86%E1%85%A7%E1%86%BC%E1%84%85%E1%85%A7%E1%86%BC%E1%84%8B%E1%85%A5%20ae703eae054c443c8d28e2c8fd19da8a/Untitled%209.png)

폴더에 자유롭게붙일 수 있다

[root@localhost /]#
[root@localhost /]# umount /cdrom
[root@localhost /]# cd /cdrom
[root@localhost cdrom]# ls

마음대로 원래 위치의 마운트를 끊고 내가 원하는 곳에 붙일 수 있다

### 활용

나중에 하드디스크를 여러개 붙일 것임. → 장착후 바로 사용 불가 → mount /umount를 이용하여 특정폴더가 하나의 하드디스크가 되도록 한다.

cf. 윈도우는 c,d,e,f,g로 생김 < - > 리눅스는 폴더에 붙여야 한다.

p.180

`ls` 파일 정보 조회

`ls -l` 상세정보 조회

`ls -a` 모든 파일(히든 파일 포함,앞에 .붙어 있음)

![2%E1%84%8B%E1%85%B5%E1%86%AF%E1%84%8E%E1%85%A1%20-%20%E1%84%89%E1%85%A5%E1%84%87%E1%85%A5%20%E1%84%87%E1%85%A9%E1%86%A8%E1%84%8C%E1%85%A6%20%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%20%E1%84%86%E1%85%A7%E1%86%BC%E1%84%85%E1%85%A7%E1%86%BC%E1%84%8B%E1%85%A5%20ae703eae054c443c8d28e2c8fd19da8a/Untitled%2010.png](2%E1%84%8B%E1%85%B5%E1%86%AF%E1%84%8E%E1%85%A1%20-%20%E1%84%89%E1%85%A5%E1%84%87%E1%85%A5%20%E1%84%87%E1%85%A9%E1%86%A8%E1%84%8C%E1%85%A6%20%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%20%E1%84%86%E1%85%A7%E1%86%BC%E1%84%85%E1%85%A7%E1%86%BC%E1%84%8B%E1%85%A5%20ae703eae054c443c8d28e2c8fd19da8a/Untitled%2010.png)

`rm` 파일 삭제 *복구안됨

`rm -i` 파일명 삭제할지 묻는 메세지

현재 디렉토리 밑의 것을 보고 싶으면

`ls ./adri`  `.`이 현재 디렉토리를 얘기함

`cp a* adir` a 어찌구 이름 친구들을 adir에 복사한다

`rm -r adir` 폴더 삭제. 모든 파일 계속 나옴

 `rm -rf bdir` 디렉토리 물어보지 않고 삭제

p.182

`rmdir 디렉토리명` 디렉토리 삭제. 단, 하위 폴더나 파일이 있으면 안됨

`ctrl ^c`는 취소

`rm -rf 디렉토리`명 바로 삭제

cat 파일의 내용을 봄. 너무 빠름

more를 이용함

p.181~185에서 연습

`ls` 부분

`ls bdir` bdir 안의 파일명 조회

`ls  bdir/adir` bdir 아래 adir 내용 조회

`ls -a` 숨김파일 포함 보여줌

`ls -l` 상세조회

`ls a*` 로 시작하는 친구들 보여줌

`cd` change directory

`cd ~id` 남의 폴더로 이동

`cd ../aa/bb` 현재 상위 아래의 aa/bb로 이동

`cp` 복사

`cp abc.txt cba.txt` `abc.txt`를 `cba.txt`로 복사한다

`cp a.txt adir`  `a.txt`파일을 `adir`로 복사

`cp -r adir bidr` 디렉토리 복사(bidr). bidr이라는 디렉토리가 없을때 존재하면 그 하위로 복사됨

`mv` 이름 바꾸거나 이동

`mkdir` 폴더 만들기

`mkdir ./d2` 현재 폴더 밑에 d2를 만든다

`mkdir d3/d4` 안됨

`mkdir -p d3/d4` 이렇게 하면 됨

`file` 파일속성 표현

`file d1`

---

p.184

## 사용자 관리

리눅스는 다중 사용자 시스템이다.

수퍼 밑에 쩌리짱들이 있다.

네이버 저장. home / centos에 메일을 저장한다.

Unix도 동일하다

Q. Home 위치에서만 useradd등을 해야 하는가? 
A. 어느 위치에서 해도 상관없다. 

### 전체적인 흐름:

그룹 생성 →그룹 생성확인 → 
유저 생성 + 그룹 할당 → 유저생성 확인 → 비밀번호 설정 → 비밀번호 설정 확인

- 유저 / 그룹 관련해서  확인해줘야 할 3 + 1가지 파일 + 디렉토리

    `/etc/passwd` 유저 등록 여부 확인

    `/etc/group` 그룹 할당 여부 및 그룹 생성 여부 확인

    `/etc/shadow` 유저 비밀번호 등록 여부 확인

    +

    `/etc/skel/` 유저가 생성될시, 초기에 포함되는 파일들 정의

    `[root@localhost skel]`

    `vi` 또는 `tail`을 이용하여 파일 내부 정보 조회

    `vi /etc/passwd` 유저가 등록되었는지 아닌지 마지막줄을 보면서 알 수 있다.
    `tail -5 /etc/passwd` 로 하여도 된다.

    ![2%E1%84%8B%E1%85%B5%E1%86%AF%E1%84%8E%E1%85%A1%20-%20%E1%84%89%E1%85%A5%E1%84%87%E1%85%A5%20%E1%84%87%E1%85%A9%E1%86%A8%E1%84%8C%E1%85%A6%20%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%20%E1%84%86%E1%85%A7%E1%86%BC%E1%84%85%E1%85%A7%E1%86%BC%E1%84%8B%E1%85%A5%20ae703eae054c443c8d28e2c8fd19da8a/Untitled%2011.png](2%E1%84%8B%E1%85%B5%E1%86%AF%E1%84%8E%E1%85%A1%20-%20%E1%84%89%E1%85%A5%E1%84%87%E1%85%A5%20%E1%84%87%E1%85%A9%E1%86%A8%E1%84%8C%E1%85%A6%20%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%20%E1%84%86%E1%85%A7%E1%86%BC%E1%84%85%E1%85%A7%E1%86%BC%E1%84%8B%E1%85%A5%20ae703eae054c443c8d28e2c8fd19da8a/Untitled%2011.png)

    `vi /etc/group` 설정하지 않으면 아이디가 그룹이 된다

    `vi /etc/shadow` 비밀번호를 저장하는 파일. 암호화 되어들어감.

- 유저 생성

    `useradd`

    `useradd testuser1` 유저를 하나 생성함. 단, 비밀번호는 설정된 상태가 아니기 때문에 사용할 수 없음

    `useradd -u 111111 newuser` 유저를 생성하며 비밀번호도 동시에 생성한다.

- 유저 삭제 및 확인

    삭제 차이

    `[root@localhost ~]# userdel multiuser1` 유저만 삭제

    `[root@localhost ~]# userdel -r multiuser2` 유저와 폴더 삭제

    삭제는 되었음. 1번은 폴더는 남아있음. 2번은 없음.

    `[root@localhost ~]# cd /home
    [root@localhost home]# ls
    centos multiuser1
    [root@localhost home]#`

    `userdel userid` 방식으로 삭제 시, 직접 home으로 이동하여 폴더 삭제해줘야함.

    폴더 삭제 명령어:  `rm -rf 디렉토리명`

    `[root@localhost home]# rm -rf multiuser1/
    [root@localhost home]# ls
    centos`

- 유저 비밀번호 초기화

    방법 1: `passwd id` 를 입력하면 새 비밀번호 입력이 뜸. 하면 됨.

    방법 2 : `su - id` → `passwd` 관리자 → 유저 위치로 이동후, 명령어 입력을 통해 초기화

    ![2%E1%84%8B%E1%85%B5%E1%86%AF%E1%84%8E%E1%85%A1%20-%20%E1%84%89%E1%85%A5%E1%84%87%E1%85%A5%20%E1%84%87%E1%85%A9%E1%86%A8%E1%84%8C%E1%85%A6%20%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%20%E1%84%86%E1%85%A7%E1%86%BC%E1%84%85%E1%85%A7%E1%86%BC%E1%84%8B%E1%85%A5%20ae703eae054c443c8d28e2c8fd19da8a/Untitled%2012.png](2%E1%84%8B%E1%85%B5%E1%86%AF%E1%84%8E%E1%85%A1%20-%20%E1%84%89%E1%85%A5%E1%84%87%E1%85%A5%20%E1%84%87%E1%85%A9%E1%86%A8%E1%84%8C%E1%85%A6%20%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%20%E1%84%86%E1%85%A7%E1%86%BC%E1%84%85%E1%85%A7%E1%86%BC%E1%84%8B%E1%85%A5%20ae703eae054c443c8d28e2c8fd19da8a/Untitled%2012.png)

- 그룹 생성 + 유저 생성 + 유저 비밀번호 설정
    1. 그룹을 생성한다
        1. `#groupadd groupname`
    2. 유저를 생성하며 그룹을 설정한다.
        1.  `#useradd -g groupname userid`
    3. 비밀번호를 설정한다.
        1. `#passwd userid`
    4. 결과를 확인한다. 위의 확인해줘야할 3가지 참조.

    ![2%E1%84%8B%E1%85%B5%E1%86%AF%E1%84%8E%E1%85%A1%20-%20%E1%84%89%E1%85%A5%E1%84%87%E1%85%A5%20%E1%84%87%E1%85%A9%E1%86%A8%E1%84%8C%E1%85%A6%20%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%20%E1%84%86%E1%85%A7%E1%86%BC%E1%84%85%E1%85%A7%E1%86%BC%E1%84%8B%E1%85%A5%20ae703eae054c443c8d28e2c8fd19da8a/Untitled%2013.png](2%E1%84%8B%E1%85%B5%E1%86%AF%E1%84%8E%E1%85%A1%20-%20%E1%84%89%E1%85%A5%E1%84%87%E1%85%A5%20%E1%84%87%E1%85%A9%E1%86%A8%E1%84%8C%E1%85%A6%20%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%20%E1%84%86%E1%85%A7%E1%86%BC%E1%84%85%E1%85%A7%E1%86%BC%E1%84%8B%E1%85%A5%20ae703eae054c443c8d28e2c8fd19da8a/Untitled%2013.png)

    만들고 확인 

    ![2%E1%84%8B%E1%85%B5%E1%86%AF%E1%84%8E%E1%85%A1%20-%20%E1%84%89%E1%85%A5%E1%84%87%E1%85%A5%20%E1%84%87%E1%85%A9%E1%86%A8%E1%84%8C%E1%85%A6%20%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%20%E1%84%86%E1%85%A7%E1%86%BC%E1%84%85%E1%85%A7%E1%86%BC%E1%84%8B%E1%85%A5%20ae703eae054c443c8d28e2c8fd19da8a/Untitled%2014.png](2%E1%84%8B%E1%85%B5%E1%86%AF%E1%84%8E%E1%85%A1%20-%20%E1%84%89%E1%85%A5%E1%84%87%E1%85%A5%20%E1%84%87%E1%85%A9%E1%86%A8%E1%84%8C%E1%85%A6%20%E1%84%85%E1%85%B5%E1%84%82%E1%85%AE%E1%86%A8%E1%84%89%E1%85%B3%20%E1%84%86%E1%85%A7%E1%86%BC%E1%84%85%E1%85%A7%E1%86%BC%E1%84%8B%E1%85%A5%20ae703eae054c443c8d28e2c8fd19da8a/Untitled%2014.png)

`userdel -r testuser1` 폴더까지 없앨 수 있음.

암호 주기적 변경 `chage`